!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("angular"),require("vue")):"function"==typeof define&&define.amd?define("ngVue",["exports","angular","vue"],e):e(n.ngVue=n.ngVue||{},n.angular,n.Vue)}(this,function(n,e,r){"use strict";function t(n,e){return function(){n.apply(this,arguments),e.apply(this,arguments)}}function i(n,e){return b.isFunction(n)?n:e.get(n)}function u(n){return n.charAt(0).toLowerCase()+n.slice(1)}function o(n,e){return u(n.slice(e.length))}function a(n,e){var r={props:"vProps",data:"vData",on:"vOn"}[n],t=new RegExp(r,"i"),i=e[r];if(b.isDefined(i))return i;var u=Object.keys(e).filter(function(n){return t.test(n)});if(0===u.length)return null;var a={};return u.forEach(function(n){var t=o(n,r);a[t]=e[n]}),a}function c(n){return{data:a("data",n),props:a("props",n),events:a("on",n)}}function f(n,t){return function(i){e.isString(n)?i(n,r.set.bind(r,t,"_v")):Object.keys(n).forEach(function(e){i(n[e],r.set.bind(r,t._v,e))})}}function s(n,r){return function(t){var i=t;r&&(i=e.isArray(t)?[].concat(j(t)):e.isObject(t)?O({},t):t),n(i)}}function l(n,e,r,t){var i=n.props?n.props:n.data;if(i){var u=r.depth,o=r.quirk,a=f(i,e);switch(u){case"value":a(function(n,e){t.$watch(n,s(e,o),!0)});break;case"collection":a(function(n,e){t.$watchCollection(n,s(e,o))});break;case"reference":default:a(function(n,e){t.$watch(n,s(e,o))})}}}function v(n,e){var r=n[n.props?"props":"data"];if(!r)return null;if(b.isString(r))return e.$eval(r);var t={};return Object.keys(r).forEach(function(n){t[n]=e.$eval(r[n])}),t}function p(n,e){var r=n.events;if(!r||!b.isObject(r))return null;var t={};return Object.keys(r).forEach(function(n){t[n]=e.$eval(r[n]);var i=t[n];b.isFunction(i)&&(t[n]=function(){var n=arguments;return e.$evalAsync(function(){return i.apply(null,n)})})}),t}function d(n){return n.constructor.name}function y(n,e){var r=n.vDirectives;if(b.isUndefined(r))return null;var t=e.$eval(r),i=V[d(t)];return i?i(t):null}function g(n,e,t,u,o){var a=o.has("$ngVue")?o.get("$ngVue"):null,f=c(t),s=i(n,o),d=y(t,u)||[],g={_v:v(f,u)||{}},h=p(f,u)||{},$=!!a&&a.inQuirkMode(),b=a?a.getVueHooks():{},k=a?{store:a.getVuexStore()}:{},j=a?{i18n:a.getVueI18n()}:{},V={depth:t.watchDepth,quirk:$};l(f,g,V,u);var A=new r(O({name:"NgVue",el:e[0],data:g,render:function(n){return n(s,m([{directives:d},{props:g._v,on:h}]),[e.html()])}},b,k,j));u.$on("$destroy",function(){A.$destroy(),A.$el.remove&&A.$el.remove()})}function h(n){return function(e,r){var t={restrict:"E",link:function(r,t,i){g(e,t,i,r,n)}};return b.extend(t,r)}}function $(n){return{restrict:"E",link:function(e,r,t){g(t.name,r,t,e,n)}}}var b="default"in e?e.default:e;r="default"in r?r.default:r;var k=/^(attrs|props|on|nativeOn|class|style|hook)$/,m=function(n){return n.reduce(function(n,e){var r,i,u,o,a;for(u in e)if(r=n[u],i=e[u],r&&k.test(u))if("class"===u&&("string"==typeof r&&(a=r,n[u]=r={},r[a]=!0),"string"==typeof i&&(a=i,e[u]=i={},i[a]=!0)),"on"===u||"nativeOn"===u||"hook"===u)for(o in i)r[o]=t(r[o],i[o]);else if(Array.isArray(r))n[u]=r.concat(i);else if(Array.isArray(i))n[u]=[r].concat(i);else for(o in i)r[o]=i[o];else n[u]=e[u];return n},{})},O=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}return n},j=function(n){if(Array.isArray(n)){for(var e=0,r=Array(n.length);e<n.length;e++)r[e]=n[e];return r}return Array.from(n)},V={Object:function(n){return[n]},Array:function(n){return n},String:function(n){return n.split(/\s*,\s*/g).filter(Boolean).map(function(n){return{name:n}})}},A=b.module("ngVue",[]).directive("vueComponent",["$injector",$]).factory("createVueComponent",["$injector",h]);n.ngVue=A,Object.defineProperty(n,"__esModule",{value:!0})});
