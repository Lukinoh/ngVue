!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("angular"),require("vue")):"function"==typeof define&&define.amd?define("ngVue",["exports","angular","vue"],e):e(t.ngVue=t.ngVue||{},t.angular,t.Vue)}(this,function(t,v,w){"use strict";var E="default"in v?v.default:v;w="default"in w?w.default:w;var u=/^(attrs|props|on|nativeOn|class|style|hook)$/,D=function(t){return t.reduce(function(t,e){var n,r,i,a,o;for(i in e)if(n=t[i],r=e[i],n&&u.test(i))if("class"===i&&("string"==typeof n&&(o=n,t[i]=n={},n[o]=!0),"string"==typeof r&&(o=r,e[i]=r={},r[o]=!0)),"on"===i||"nativeOn"===i||"hook"===i)for(a in r)n[a]=c(n[a],r[a]);else if(Array.isArray(n))t[i]=n.concat(r);else if(Array.isArray(r))t[i]=[n].concat(r);else for(a in r)n[a]=r[a];else t[i]=e[i];return t},{})};function c(t,e){return function(){t&&t.apply(this,arguments),e&&e.apply(this,arguments)}}function x(t,u){var c={props:"vProps",data:"vData",on:"vOn"}[t],e=new RegExp(c,"i"),n=u[c];if(E.isDefined(n))return n;var r,i=void 0;if(0===(i="htmlAttributes"===t?(r=u,Object.keys(r).filter(function(t){var e=/^(vProps|vData|vOn|vDirectives|watchDepth|ng)/i.test(t),n="$"===t[0];return!e&&!n&&"class"!==t&&"style"!==t})):Object.keys(u).filter(function(t){return e.test(t)})).length)return null;var s={};return i.forEach(function(t){if(c){var e=(i=c,o=t.slice(i.length),(a=o).charAt(0).toLowerCase()+a.slice(1));s[e]=u[t]}else{var n=u.$attr[t],r=void 0;r=""===u[t]?"'"+t+"'":u[t],s[n]=r}var i,a,o}),s}var C=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)};function p(n,r){return function(t){var e=t;r&&(e=v.isArray(t)?[].concat(i(t)):v.isObject(t)?C({},t):t),n(e)}}function M(t,e,n,r,i){var a=void 0;if("props"===i?a=t.props?t.props:t.data:"attrs"===i&&(a=t.htmlAttributes),a){var o,u,c,s=n.depth,f=n.quirk,l=(o=a,u=e,c=i,function(e){v.isString(o)?e(o,w.set.bind(w,u._v,c)):Object.keys(o).forEach(function(t){e(o[t],w.set.bind(w,u._v[c],t))})});switch(s){case"value":l(function(t,e){r.$watch(t,p(e,f),!0)});break;case"collection":l(function(t,e){r.$watchCollection(t,p(e,f))});break;case"reference":default:l(function(t,e){r.$watch(t,p(e,f))})}}}function P(e,n){if(!e)return null;if(E.isString(e))return n.$eval(e);var r={};return Object.keys(e).forEach(function(t){r[t]=n.$eval(e[t])}),r}var q={Object:function(t){return[t]},Array:function(t){return t},String:function(t){return t.split(/\s*,\s*/g).filter(Boolean).map(function(t){return{name:t}})}};var H=["class","style"];function a(t,e,n,r,i){var a,o,u,c,s=i.has("$ngVue")?i.get("$ngVue"):null,f=i.get("$compile"),l={data:x("data",a=n),props:x("props",a),events:x("on",a),htmlAttributes:x("htmlAttributes",a)},v=(o=t,u=i,E.isFunction(o)?o:u.get(o)),p=function(t,e){var n=t.vDirectives;if(E.isUndefined(n))return null;var r,i=e.$eval(n),a=q[(r=i,r.constructor.name)];return a?a(i):null}(n,r)||[],d={_v:{props:P(l.props||l.data,r)||{},attrs:P(l.htmlAttributes,r)||{},special:(c=n,H.reduce(function(t,e){var n=c[e];return(n||c[c.$normalize("ng-"+e)])&&(t[e]=n),t},{}))}},h=function(t,n){var r=t.events;if(!r||!E.isObject(r))return null;var i={};return Object.keys(r).forEach(function(t){i[t]=n.$eval(r[t]);var e=i[t];E.isFunction(e)&&(i[t]=function(){var t=arguments;return n.$evalAsync(function(){return e.apply(null,t)})})}),i}(l,r)||{},y=!!s&&s.inQuirkMode(),g=s?s.getVueHooks():{},m=s?{store:s.getVuexStore()}:{},$=s?{i18n:s.getVueI18n()}:{},b=s?s.getRootProps():{},_=b.mounted;b.mounted=function(){if(e[0].innerHTML.trim()){var n=document.createElement("span"),t=this.$refs.__slot__;(e[0].children.length?f(e[0].innerHTML)(r):f("<span>"+e[0].innerHTML+"</span>")(r)).each(function(t,e){n.appendChild(e)}),t.parentNode.replaceChild(n,t)}E.isFunction(_)&&_.apply(this,arguments)};var A,O,k,j={depth:n.watchDepth,quirk:y};M(l,d,j,r,"props"),M(l,d,j,r,"attrs"),A=d,O=e,k=r,Object.keys(A._v.special).forEach(function(e){k.$watch(function(){return O.attr(e)},function(t){w.set(A._v.special,e,t)})});var V=new w(C({name:"NgVue",el:e[0],data:d,render:function(t){return t(v,D([{directives:p},{props:d._v.props,on:h,attrs:d._v.attrs},d._v.special]),[t("span",{ref:"__slot__"})])}},g,m,$,b));r.$on("$destroy",function(){V.$destroy(),E.element(V.$el).remove(),V=null})}var e=E.module("ngVue",[]).directive("vueComponent",["$injector",function(r){return{restrict:"E",link:function(t,e,n){a(n.name,e,n,t,r)}}}]).factory("createVueComponent",["$injector",function(i){return function(r,t){var e={restrict:"E",link:function(t,e,n){a(r,e,n,t,i)}};return E.extend(e,t)}}]);t.ngVue=e,Object.defineProperty(t,"__esModule",{value:!0})});
